# fly.toml app configuration file generated for da3witi-whatsapp-worker on 2026-01-26T03:40:49+03:00
#
# See https://fly.io/docs/reference/configuration/ for information about how to use this file.
#

app = 'da3witi-whatsapp-worker'
primary_region = 'ams'

[build]
  dockerfile = 'Dockerfile'
  # Build context is repo root so Docker can COPY prisma/
  context = '..'

[env]
  QUEUE_NAME = 'whatsapp'
  WORKER_CONCURRENCY = '10'
  WORKER_MAX_RETRIES = '5'
  WORKER_RPS = '40'

[processes]
  worker = 'npm start'

[[vm]]
  size = 'shared-cpu-1x'
  memory = '1gb'
  cpus = 1
  memory_mb = 1024
